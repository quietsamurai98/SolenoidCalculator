<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title></title>
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
    </head>
    <body>
        <div>
            <label for="inputWireLength">   Wire Length (meters)</label>
            <input type="number" name="inputWireLength" id="inputWireLength" min="0" step="0.01"><br>

            <label for="inputWireDiameter"> Wire Diameter (millimeters)</label>
            <input type="number" name="inputWireDiameter" id="inputWireDiameter" min="0" step="0.001"><br>

            <label for="inputCoreLength">   Core Length (centimeters)</label>
            <input type="number" name="inputCoreLength" id="inputCoreLength" min="0" step="0.1"><br>

            <label for="inputCoreDiameter"> Core Diameter (centimeters)</label>
            <input type="number" name="inputCoreDiameter" id="inputCoreDiameter" min="0" step="0.1"><br>

            
            <input type="submit" id="btnSubmit" value="Calculate" onclick="calculate()"/>
        </div>
        <script>
        function calculate(){
            var wireLength  = parseFloat(document.getElementById('inputWireLength').value);
            var wireDiameter= parseFloat(document.getElementById('inputWireDiameter').value)/1000.0;
            var coreLength  = parseFloat(document.getElementById('inputCoreLength').value)/100.0;
            var coreDiameter= parseFloat(document.getElementById('inputCoreDiameter').value)/100.0;

            var turnsPerLayer = coreLength/wireDiameter;
            var wireUsed = 0;
            var realDiameter = coreDiameter+ wireDiameter*0.5;
            var layerCount = 0;
            while (wireUsed < wireLength){
                wireUsed+= Math.PI * realDiameter * turnsPerLayer;
                layerCount++;
                realDiameter+=wireDiameter;
            }
            wireUsed -= Math.PI * realDiameter * turnsPerLayer;
            layerCount--;
            realDiameter-=wireDiameter;
            var extraTurns = (wireLength-wireUsed)/(Math.PI * realDiameter);
            var totalTurns = layerCount*turnsPerLayer+extraTurns;
            console.log("LAYERS: "+layerCount+"\nEXTRA TURNS"+extraTurns+"\nTOTAL TURNS"+totalTurns);
        }
        </script>
    </body>
</html>
